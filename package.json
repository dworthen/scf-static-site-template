---
- filename: package.json
- templateEngine: ejs
- conditions:
    - name: scaffoldPackageJson
      operator: eq
      value: true
- name: name
  message: package name
  pattern: !!js/regexp /^(?=.{1,214}$)(?:@[a-z0-9-~][a-z0-9-._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/
- name: version
  message: version
  pattern: !!js/regexp /^\d+\.\d+.\d+$/
  default: 1.0.0
- name: description
  message: description
- name: entry
  message: entry
  default: index.js
- name: author
  message: author
- name: test
  message: test command
  default: 'echo \"Error: no test specified\" && exit 1'
- name: license
  message: license
  default: ISC
- name: webserver
  message: webserver to use.
  type: list
  choices:
    - serve
    - http-server
    - sirv
    - none
---
{
  "name": "<%- name %>",
  "version": "<%- version %>",
  "description": "<%- description %>",
  "main": "<%- entry %>",
  "scripts": { 
    "test": "<%- test %>"<%- webserver !== "none" ? "," : "" %>
  <%_ if(webserver === "serve") { _%>     
    "start": "serve . -l 5000"
  <%_ } _%>
  <%_ if(webserver === "http-server") { _%>
    "start": "http-server . -p 5000"
  <%_ } _%>
  <%_ if(webserver === "sirv") { _%>
    "start": "sirv start . -p 5000"
  <%_ } _%>
  },
  "author": "<%- author %>",
  "license": "<%- license %>",
  "devDependencies": {
  <%_ if(webserver === "serve") { _%>
    "serve": "^11.0.2"
  <%_ } _%>
  <%_ if(webserver === "http-server") { _%>
    "http-server": "^0.11.1"
  <%_ } _%>
  <%_ if(webserver === "sirv") { _%>
    "sirv-cli": "^0.4.4"
  <%_ } _%>
  }
}